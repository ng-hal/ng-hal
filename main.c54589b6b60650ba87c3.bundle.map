{"version":3,"sources":["webpack:///main.c54589b6b60650ba87c3.bundle.js","webpack:///./demo/app/app.component.css","webpack:///./demo/app/app.component.html","webpack:///./demo/app/app.component.ts","webpack:///./demo/app/app.module.ts","webpack:///./demo/app/index.ts","webpack:///./demo/main.browser.ts","webpack:///./demo/platform/environment.ts","webpack:///./lib/conversion-strategy-composite.ts","webpack:///./lib/conversion-strategy-json.ts","webpack:///./lib/conversion-strategy.ts","webpack:///./lib/hal-document.ts","webpack:///./lib/index.ts","webpack:///./lib/navigator.ts","webpack:///./lib/resource.ts","webpack:///./lib/uri.ts","webpack:///./~/halfred/halfred.js","webpack:///./~/halfred/lib/immutable_stack.js","webpack:///./~/halfred/lib/parser.js","webpack:///./~/halfred/lib/resource.js","webpack:///./~/uri-templates/uri-templates.js"],"names":["webpackJsonp","767","module","exports","556","552","__webpack_require__","core_1","dist_1","AppComponent","navigator","this","model","verb","url","activeTab","links","prototype","ngOnInit","console","log","onFormSubmit","_this","get","subscribe","doc","resource","response","request","allLinks","key","linkArray","_i","links_1","length","link","push","rel","onSwitchTab","name","onNavigate","href","__decorate","Component","selector","template","styles","__metadata","_a","Navigator","Object","553","platform_browser_1","http_1","forms_1","app_component_1","ConversionStrategy","APP_PROVIDERS","Provider","useFactory","ConversionStrategyJson","AppModule","NgModule","declarations","bootstrap","imports","BrowserModule","HttpModule","FormsModule","providers","554","__export","m","p","hasOwnProperty","0","main","initialHmrState","platform_browser_dynamic_1","platformBrowserDynamic","bootstrapModule","app_1","then","environment_1","decorateComponentRef","catch","err","error","document","addEventListener","555","PROVIDERS","_decorateComponentRef","value","disableDebugTools","enableProdMode","slice","ENV_PROVIDERS","597","ConversionStrategyComposite","conversionStrategies","accepts","c","findFirst","convert","598","halfred_1","resource_1","mediaType","headers","data","json","Resource","parse","Injectable","402","403","HalDocument","404","enableValidation","disableValidation","conversion_strategy_1","conversion_strategy_json_1","conversion_strategy_composite_1","hal_document_1","navigator_1","uri_1","Uri","599","http","conversionStrategy","options","doNavigate","RequestMethod","Get","post","body","Post","put","Put","delete","Delete","patch","Patch","head","Head","Options","navigate","req","opts","Request","RequestOptions","doHttp","method","map","doConvert","Http","405","delegate","allLinkArrays","allEmbeddedResourceArrays","allEmbeddedArrays","allEmbeddedResources","embeddedResourceArray","val","embeddedArray","embeddedResource","embedded","original","hasCuries","curieArray","curie","reverseResolveCurie","fullUrl","validationIssues","validation","600","utpl","fillFromObject","foo","bar","of","concrete","vars","441","Parser","validationFlag","unparsed","flag","761","ImmutableStack","arguments","_array","array","isEmpty","element","pop","peek","Error","762","_parse","path","parseLinks","_links","curies","parseCuries","parseEmbeddedResourcess","_embedded","copyNonHalProperties","_original","parseHalProperty","parseLink","self","reportValidationIssue","linkArrays","parentValidation","identity","keys","forEach","embeddedElement","childValidation","property","processingFunction","copy","arrayfy","object","fn","isArray","linkKey","isObject","shallowCopy","linkSpec","required","defaultValue","deprecation","pathToString","templated","indexOf","o","toString","call","message","source","s","i","substring","Stack","type","profile","title","hreflang","442","_initCuries","_validation","propertyArray","elementOfPropertyArray","index","_curiesMap","_curies","_preResolveCuries","_resolvedCuriesMap","_preResolveCurie","prefixAndReference","split","candidate","replace","764","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","factory","apply","undefined","notReallyPercentEncode","string","encodeURI","doubleEncoded","isPercentEncoded","encodeURIComponent","uriTemplateSubstitution","spec","modifier","uriTemplateGlobalModifiers","charAt","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","varSpecs","varSpecMap","varName","truncate","parts","parseInt","suffices","uriTemplateSuffices","varSpec","subFunction","valueFunction","result","startIndex","Array","j","first","guessFunction","stringValue","resultObj","strict","arrayValue","hasEquals","splice","innerArrayValue","objectValue","innerValue","innerVarName","decodeURIComponent","k","concat","specIndexMap","firstStarred","lastStarred","substitution","unSubstitution","UriTemplate","textParts","shift","prefixes","substitutions","unSubstitutions","part","remainder","funcs","fill","fromUri","substituted","nextPart","offset","endPart","nextPartPos","+","#",".","/",";","?","&","*","obj","test","uri"],"mappings":"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","file":"main.c54589b6b60650ba87c3.bundle.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 767:\n/***/ function(module, exports) {\n\n\tmodule.exports = \".github-link{color:#333}.github-link:hover{color:#4078c0;text-decoration:none}.octicon{fill:currentColor}\"\n\n/***/ },\n\n/***/ 556:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"container p-t-3 p-b-3\\\">\\n\\n  <h1>HAL Navigator</h1>\\n\\n  <p class=\\\"lead\\\">Hyping thru media with the hypermedia abstraction language.</p>\\n\\n  <a href=\\\"https://github.com/dherges/ng2-hal\\\" aria-label=\\\"Homepage\\\" class=\\\"github-link\\\">\\n      <svg aria-hidden=\\\"true\\\" class=\\\"octicon\\\" height=\\\"32\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"32\\\"><path d=\\\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\\\"></path></svg>\\n  </a>\\n\\n  <hr>\\n\\n  <main>\\n    <form (ngSubmit)=\\\"onFormSubmit()\\\">\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"formVerb\\\" class=\\\"col-sm-2\\\">HTTP Verb:</label>\\n        <div class=\\\"col-sm-10\\\">\\n          <select class=\\\"form-control\\\" id=\\\"formVerb\\\"\\n                  name=\\\"verb\\\" [(ngModel)]=\\\"model.verb\\\">\\n            <option>GET</option>\\n            <option>POST</option>\\n            <option>PUT</option>\\n            <option>DELETE</option>\\n            <option>PATCH</option>\\n            <option>HEAD</option>\\n            <option>OPTIONS</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"formUrlInput\\\" class=\\\"col-sm-2\\\">URL:</label>\\n        <div class=\\\"col-sm-10\\\">\\n          <input id=\\\"formUrlInput\\\" class=\\\"form-control\\\"\\n                 type=\\\"text\\\" name=\\\"url\\\" [(ngModel)]=\\\"model.url\\\"/>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <div class=\\\"offset-sm-2 col-sm-10\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Navigate</button>\\n        </div>\\n      </div>\\n    </form>\\n  </main>\\n\\n  <nav>\\n    <ul class=\\\"nav nav-tabs m-b-1\\\">\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'hal'\\\"      (click)=\\\"onSwitchTab('hal')\\\">HAL Resource</a></li>\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'links'\\\"    (click)=\\\"onSwitchTab('links')\\\">Links</a></li>\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'embedded'\\\" (click)=\\\"onSwitchTab('embedded')\\\">Embedded</a></li>\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'http'\\\"     (click)=\\\"onSwitchTab('http')\\\">HTTP</a></li>\\n    </ul>\\n  </nav>\\n\\n  <aside *ngIf=\\\"activeTab == 'hal'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Original Resource</h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.original() | json }}</code></pre>\\n      </div>\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Resource <small><em>(normalized by halfred)</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource | json }}</code></pre>\\n      </div>\\n    </div>\\n  </aside>\\n\\n  <aside *ngIf=\\\"activeTab == 'links'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Links <small><em>resource.allLinks()</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.allLinks() | json }}</code></pre>\\n\\n        <h4>CURIEs <small><em>resource.curieArray()</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.curieArray() | json }}</code></pre>\\n      </div>\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Navigation</h4>\\n        <ul>\\n          <li *ngFor=\\\"let link of links\\\">\\n            <a href=\\\"{{link.link.href}}\\\" (click)=\\\"onNavigate(link.link)\\\">{{link.rel}} {{link.link.href}}</a>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </aside>\\n\\n  <aside *ngIf=\\\"activeTab == 'embedded'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-12\\\">\\n        <h4>All Embedded Resources <small><em>resource.allEmbeddedResources()</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.allEmbeddedResources() | json}}</code></pre>\\n      </div>\\n    </div>\\n  </aside>\\n\\n  <aside *ngIf=\\\"activeTab == 'http'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Request</h4>\\n        <pre><code class=\\\"small\\\">{{ request | json}}</code></pre>\\n      </div>\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Response</h4>\\n        <pre><code class=\\\"small\\\">{{ response | json }}</code></pre>\\n      </div>\\n    </div>\\n  </aside>\\n\\n\\n  <footer>\\n  </footer>\\n\\n</div>\\n\"\n\n/***/ },\n\n/***/ 552:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar dist_1 = __webpack_require__(404);\n\t/** Demo application */\n\tvar AppComponent = (function () {\n\t    function AppComponent(navigator) {\n\t        this.navigator = navigator;\n\t        this.model = {\n\t            verb: 'GET',\n\t            url: 'hal/orders.json'\n\t        };\n\t        this.activeTab = 'hal';\n\t        this.links = [];\n\t    }\n\t    AppComponent.prototype.ngOnInit = function () {\n\t        console.log(\"AppComponent inited.\", this.navigator);\n\t        /*\n\t        this.navigator\n\t          .get('/hal/orders.json')\n\t          .mergeMap((hal: HalDocument) => { // XX .. follow\n\t            console.log(\"mergeMap\");\n\t            return this.navigator.get('/hal/orders_523.json')\n\t          })\n\t          .mergeMap((hal: HalDocument) => { // XX .. follow\n\t            console.log(\"mergeMap\");\n\t            return this.navigator.get('/hal/links_self.json')\n\t          })\n\t          .subscribe((hal: HalDocument) => { // XX .. follow\n\t            console.log(hal);\n\t            console.log(\"finished\");\n\t          })\n\t        */\n\t    };\n\t    AppComponent.prototype.onFormSubmit = function () {\n\t        var _this = this;\n\t        console.log(\"form model:\", this.model);\n\t        this.navigator\n\t            .get(this.model.url)\n\t            .subscribe(function (doc) {\n\t            _this.resource = doc.resource;\n\t            _this.response = doc.response;\n\t            _this.request = doc.request;\n\t            _this.links = [];\n\t            var allLinks = _this.resource.allLinks();\n\t            for (var key in allLinks) {\n\t                var links = _this.resource.linkArray(key);\n\t                for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\n\t                    var link = links_1[_i];\n\t                    _this.links.push({ rel: key, link: link });\n\t                }\n\t            }\n\t        });\n\t    };\n\t    AppComponent.prototype.onSwitchTab = function (name) {\n\t        this.activeTab = name;\n\t        return false;\n\t    };\n\t    AppComponent.prototype.onNavigate = function (link) {\n\t        this.model['url'] = link.href;\n\t        return false;\n\t    };\n\t    AppComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'app',\n\t            template: __webpack_require__(556),\n\t            styles: [__webpack_require__(767)]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof dist_1.Navigator !== 'undefined' && dist_1.Navigator) === 'function' && _a) || Object])\n\t    ], AppComponent);\n\t    return AppComponent;\n\t    var _a;\n\t}());\n\texports.AppComponent = AppComponent;\n\n\n/***/ },\n\n/***/ 553:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar platform_browser_1 = __webpack_require__(79);\n\tvar http_1 = __webpack_require__(238);\n\tvar forms_1 = __webpack_require__(355);\n\tvar app_component_1 = __webpack_require__(552);\n\tvar dist_1 = __webpack_require__(404);\n\tconsole.log(dist_1.ConversionStrategy);\n\tvar APP_PROVIDERS = [\n\t    new core_1.Provider(dist_1.ConversionStrategy, { useFactory: function () { return new dist_1.ConversionStrategyJson(); } }),\n\t    dist_1.Navigator\n\t];\n\tvar AppModule = (function () {\n\t    function AppModule() {\n\t    }\n\t    AppModule = __decorate([\n\t        core_1.NgModule({\n\t            declarations: [app_component_1.AppComponent],\n\t            bootstrap: [app_component_1.AppComponent],\n\t            imports: [\n\t                platform_browser_1.BrowserModule,\n\t                http_1.HttpModule,\n\t                forms_1.FormsModule\n\t            ],\n\t            providers: [APP_PROVIDERS]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], AppModule);\n\t    return AppModule;\n\t}());\n\texports.AppModule = AppModule;\n\n\n/***/ },\n\n/***/ 554:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(553));\n\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar platform_browser_dynamic_1 = __webpack_require__(370);\n\tvar app_1 = __webpack_require__(554);\n\tvar environment_1 = __webpack_require__(555);\n\t/* Bootstrap our Angular app with a top level ngmodule `AppModule`. */\n\tfunction main(initialHmrState) {\n\t    return platform_browser_dynamic_1.platformBrowserDynamic()\n\t        .bootstrapModule(app_1.AppModule)\n\t        .then(environment_1.decorateComponentRef)\n\t        .catch(function (err) { return console.error(err); });\n\t}\n\texports.main = main;\n\t// bootstrap when document is ready\n\tdocument.addEventListener('DOMContentLoaded', function () { return main(); });\n\n\n/***/ },\n\n/***/ 555:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t// Angular 2\n\t// rc2 workaround\n\tvar platform_browser_1 = __webpack_require__(79);\n\tvar core_1 = __webpack_require__(1);\n\t// Environment Providers\n\tvar PROVIDERS = [];\n\t// Angular debug tools in the dev console\n\t// https://github.com/angular/angular/blob/86405345b781a9dc2438c0fbe3e9409245647019/TOOLS_JS.md\n\tvar _decorateComponentRef = function identity(value) { return value; };\n\tif (true) {\n\t    // Production\n\t    platform_browser_1.disableDebugTools();\n\t    core_1.enableProdMode();\n\t    PROVIDERS = PROVIDERS.slice();\n\t}\n\telse {\n\t    _decorateComponentRef = function (cmpRef) {\n\t        var _ng = window.ng;\n\t        platform_browser_1.enableDebugTools(cmpRef);\n\t        window.ng.probe = _ng.probe;\n\t        window.ng.coreTokens = _ng.coreTokens;\n\t        return cmpRef;\n\t    };\n\t    // Development\n\t    PROVIDERS = PROVIDERS.slice();\n\t}\n\texports.decorateComponentRef = _decorateComponentRef;\n\texports.ENV_PROVIDERS = PROVIDERS.slice();\n\n\n/***/ },\n\n/***/ 597:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar ConversionStrategyComposite = (function () {\n\t    function ConversionStrategyComposite(conversionStrategies) {\n\t        this.conversionStrategies = conversionStrategies;\n\t    }\n\t    ConversionStrategyComposite.prototype.accepts = function (response) {\n\t        var c = this.findFirst(response);\n\t        return c ? true : false;\n\t    };\n\t    ConversionStrategyComposite.prototype.convert = function (response) {\n\t        var c = this.findFirst(response);\n\t        if (c) {\n\t            return c.convert(response);\n\t        }\n\t        return;\n\t    };\n\t    ConversionStrategyComposite.prototype.findFirst = function (response) {\n\t        for (var _i = 0, _a = this.conversionStrategies; _i < _a.length; _i++) {\n\t            var c = _a[_i];\n\t            if (c.accepts(response)) {\n\t                return c;\n\t            }\n\t        }\n\t    };\n\t    return ConversionStrategyComposite;\n\t}());\n\texports.ConversionStrategyComposite = ConversionStrategyComposite;\n\n\n/***/ },\n\n/***/ 598:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar halfred_1 = __webpack_require__(441);\n\tvar resource_1 = __webpack_require__(405);\n\t/** A converter for 'application/hal+json' */\n\tvar ConversionStrategyJson = (function () {\n\t    function ConversionStrategyJson() {\n\t    }\n\t    ConversionStrategyJson.prototype.accepts = function (response) {\n\t        var mediaType = response.headers.get('Content-Type');\n\t        return mediaType === 'application/json' || mediaType === 'application/hal+json';\n\t    };\n\t    ConversionStrategyJson.prototype.convert = function (response) {\n\t        var data = response.json();\n\t        return new resource_1.Resource(halfred_1.parse(data));\n\t    };\n\t    ConversionStrategyJson = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], ConversionStrategyJson);\n\t    return ConversionStrategyJson;\n\t}());\n\texports.ConversionStrategyJson = ConversionStrategyJson;\n\n\n/***/ },\n\n/***/ 402:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar ConversionStrategy = (function () {\n\t    function ConversionStrategy() {\n\t    }\n\t    return ConversionStrategy;\n\t}());\n\texports.ConversionStrategy = ConversionStrategy;\n\n\n/***/ },\n\n/***/ 403:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar HalDocument = (function () {\n\t    function HalDocument(request, response, resource) {\n\t        this.request = request;\n\t        this.response = response;\n\t        this.resource = resource;\n\t    }\n\t    return HalDocument;\n\t}());\n\texports.HalDocument = HalDocument;\n\n\n/***/ },\n\n/***/ 404:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar halfred_1 = __webpack_require__(441);\n\texports.parse = halfred_1.parse;\n\texports.enableValidation = halfred_1.enableValidation;\n\texports.disableValidation = halfred_1.disableValidation;\n\tvar conversion_strategy_1 = __webpack_require__(402);\n\texports.ConversionStrategy = conversion_strategy_1.ConversionStrategy;\n\tvar conversion_strategy_json_1 = __webpack_require__(598);\n\texports.ConversionStrategyJson = conversion_strategy_json_1.ConversionStrategyJson;\n\tvar conversion_strategy_composite_1 = __webpack_require__(597);\n\texports.ConversionStrategyComposite = conversion_strategy_composite_1.ConversionStrategyComposite;\n\tvar hal_document_1 = __webpack_require__(403);\n\texports.HalDocument = hal_document_1.HalDocument;\n\tvar navigator_1 = __webpack_require__(599);\n\texports.Navigator = navigator_1.Navigator;\n\tvar resource_1 = __webpack_require__(405);\n\texports.Resource = resource_1.Resource;\n\tvar uri_1 = __webpack_require__(600);\n\texports.Uri = uri_1.Uri;\n\n\n/***/ },\n\n/***/ 599:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar http_1 = __webpack_require__(238);\n\t__webpack_require__(168);\n\tvar conversion_strategy_1 = __webpack_require__(402);\n\tvar hal_document_1 = __webpack_require__(403);\n\tvar Navigator = (function () {\n\t    function Navigator(http, conversionStrategy) {\n\t        this.http = http;\n\t        this.conversionStrategy = conversionStrategy;\n\t    }\n\t    Navigator.prototype.get = function (url, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Get, url, options);\n\t    };\n\t    Navigator.prototype.post = function (url, body, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Post, url, options, body);\n\t    };\n\t    Navigator.prototype.put = function (url, body, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Put, url, options, body);\n\t    };\n\t    Navigator.prototype.delete = function (url, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Delete, url, options);\n\t    };\n\t    Navigator.prototype.patch = function (url, body, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Patch, url, options, body);\n\t    };\n\t    Navigator.prototype.head = function (url, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Head, url, options);\n\t    };\n\t    Navigator.prototype.options = function (url, options) {\n\t        return this.doNavigate(http_1.RequestMethod.Options, url, options);\n\t    };\n\t    Navigator.prototype.navigate = function (url, options) {\n\t        var req;\n\t        if (typeof url === 'string') {\n\t            var opts = options ? options : {};\n\t            opts.url = url;\n\t            req = new http_1.Request(new http_1.RequestOptions(options));\n\t        }\n\t        else {\n\t            req = url;\n\t        }\n\t        return this.doHttp(req);\n\t    };\n\t    Navigator.prototype.doNavigate = function (method, url, options, body) {\n\t        if (options) {\n\t            options.url = url;\n\t            options.method = method;\n\t        }\n\t        else {\n\t            options = { url: url, method: method };\n\t        }\n\t        if (body) {\n\t            options.body = body;\n\t        }\n\t        var request = new http_1.Request(new http_1.RequestOptions(options));\n\t        return this.doHttp(request);\n\t    };\n\t    Navigator.prototype.doHttp = function (request) {\n\t        var _this = this;\n\t        return this.http\n\t            .request(request)\n\t            .map(function (response) { return _this.doConvert(request, response); });\n\t    };\n\t    Navigator.prototype.doConvert = function (request, response) {\n\t        var resource = this.conversionStrategy.convert(response);\n\t        return new hal_document_1.HalDocument(request, response, resource);\n\t    };\n\t    Navigator = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [http_1.Http, conversion_strategy_1.ConversionStrategy])\n\t    ], Navigator);\n\t    return Navigator;\n\t}());\n\texports.Navigator = Navigator;\n\n\n/***/ },\n\n/***/ 405:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/** Abstraction of a HAL resource. Based on halfred. */\n\tvar Resource = (function () {\n\t    function Resource(delegate) {\n\t        this.delegate = delegate;\n\t    }\n\t    Resource.prototype.allLinkArrays = function () {\n\t        return this.delegate.allLinkArrays();\n\t    };\n\t    Resource.prototype.allLinks = function () {\n\t        return this.delegate.allLinks();\n\t    };\n\t    Resource.prototype.linkArray = function (key) {\n\t        return this.delegate.linkArray(key);\n\t    };\n\t    Resource.prototype.link = function (key) {\n\t        return this.delegate.link(key);\n\t    };\n\t    Resource.prototype.allEmbeddedResourceArrays = function () {\n\t        return this.delegate.allEmbeddedResourceArrays();\n\t    };\n\t    Resource.prototype.allEmbeddedArrays = function () {\n\t        return this.delegate.allEmbeddedArrays();\n\t    };\n\t    Resource.prototype.allEmbeddedResources = function () {\n\t        return this.delegate.allEmbeddedResources();\n\t    };\n\t    Resource.prototype.embeddedResourceArray = function (key) {\n\t        return this.delegate.embeddedResourceArray(key)\n\t            .map(function (val) { return new Resource(val); });\n\t    };\n\t    Resource.prototype.embeddedArray = function (key) {\n\t        return this.delegate.embeddedArray(key)\n\t            .map(function (val) { return new Resource(val); });\n\t    };\n\t    Resource.prototype.embeddedResource = function (key) {\n\t        return new Resource(this.delegate.embeddedResource(key));\n\t    };\n\t    Resource.prototype.embedded = function (key) {\n\t        return new Resource(this.delegate.embedded(key));\n\t    };\n\t    Resource.prototype.original = function () {\n\t        return this.delegate.original();\n\t    };\n\t    Resource.prototype.hasCuries = function () {\n\t        return this.delegate.hasCuries();\n\t    };\n\t    Resource.prototype.curieArray = function () {\n\t        return this.delegate.curieArray();\n\t    };\n\t    Resource.prototype.curie = function (name) {\n\t        return this.delegate.curie(name);\n\t    };\n\t    Resource.prototype.reverseResolveCurie = function (fullUrl) {\n\t        return this.delegate.reverseResolveCurie(fullUrl);\n\t    };\n\t    Resource.prototype.validationIssues = function () {\n\t        return this.delegate.validationIssues();\n\t    };\n\t    Resource.prototype.validation = function () {\n\t        return this.delegate.validation();\n\t    };\n\t    return Resource;\n\t}());\n\texports.Resource = Resource;\n\n\n/***/ },\n\n/***/ 600:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/// <reference path=\"../typings/uri-templates.d.ts\" />\n\tvar utpl = __webpack_require__(764);\n\tconsole.log(utpl);\n\tconsole.log(utpl('http://www.foo.com/{foo}?{bar*}').fillFromObject({ foo: 123, bar: 789 }));\n\tvar Uri = (function () {\n\t    function Uri(url) {\n\t        this.url = url;\n\t    }\n\t    Uri.of = function (url) {\n\t        return new Uri(url);\n\t    };\n\t    Uri.prototype.concrete = function (vars) {\n\t        return utpl(this.url).fillFromObject(vars);\n\t    };\n\t    return Uri;\n\t}());\n\texports.Uri = Uri;\n\n\n/***/ },\n\n/***/ 441:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Parser = __webpack_require__(762)\n\t  , Resource = __webpack_require__(442)\n\t  , validationFlag = false;\n\t\n\tmodule.exports = {\n\t\n\t  parse: function(unparsed) {\n\t    return new Parser().parse(unparsed, validationFlag);\n\t  },\n\t\n\t  enableValidation: function(flag) {\n\t    validationFlag = (flag != null) ? flag : true;\n\t  },\n\t\n\t  disableValidation: function() {\n\t    validationFlag = false;\n\t  },\n\t\n\t  Resource: Resource\n\t\n\t};\n\n\n/***/ },\n\n/***/ 761:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * A very naive copy-on-write immutable stack. Since the size of the stack\n\t * is equal to the depth of the embedded resources for one HAL resource, the bad\n\t * performance for the copy-on-write approach is probably not a problem at all.\n\t * Might be replaced by a smarter solution later. Or not. Whatever.\n\t */\n\tfunction ImmutableStack() {\n\t  if (arguments.length >= 1) {\n\t    this._array = arguments[0];\n\t  } else {\n\t    this._array = [];\n\t  }\n\t}\n\t\n\tImmutableStack.prototype.array = function() {\n\t  return this._array;\n\t};\n\t\n\tImmutableStack.prototype.isEmpty = function(array) {\n\t  return this._array.length === 0;\n\t};\n\t\n\tImmutableStack.prototype.push = function(element) {\n\t  var array = this._array.slice(0);\n\t  array.push(element);\n\t  return new ImmutableStack(array);\n\t};\n\t\n\tImmutableStack.prototype.pop = function() {\n\t  var array = this._array.slice(0, this._array.length - 1);\n\t  return new ImmutableStack(array);\n\t};\n\t\n\tImmutableStack.prototype.peek = function() {\n\t  if (this.isEmpty()) {\n\t    throw new Error('can\\'t peek on empty stack');\n\t  }\n\t  return this._array[this._array.length - 1];\n\t};\n\t\n\tmodule.exports = ImmutableStack;\n\n\n/***/ },\n\n/***/ 762:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Resource = __webpack_require__(442)\n\t  , Stack = __webpack_require__(761);\n\t\n\tvar linkSpec = {\n\t  href: { required: true, defaultValue: null },\n\t  templated: { required: false, defaultValue: false },\n\t  type: { required: false, defaultValue: null },\n\t  deprecation: { required: false, defaultValue: null },\n\t  name: { required: false, defaultValue: null },\n\t  profile: { required: false, defaultValue: null },\n\t  title: { required: false, defaultValue: null },\n\t  hreflang: { required: false, defaultValue: null }\n\t};\n\t\n\tfunction Parser() {\n\t}\n\t\n\tParser.prototype.parse = function parse(unparsed, validationFlag) {\n\t  var validation = validationFlag ? [] : null;\n\t  return _parse(unparsed, validation, new Stack());\n\t};\n\t\n\tfunction _parse(unparsed, validation, path) {\n\t  if (unparsed == null) {\n\t    return unparsed;\n\t  }\n\t  var allLinkArrays = parseLinks(unparsed._links, validation,\n\t      path.push('_links'));\n\t  var curies = parseCuries(allLinkArrays);\n\t  var allEmbeddedArrays = parseEmbeddedResourcess(unparsed._embedded,\n\t      validation, path.push('_embedded'));\n\t  var resource = new Resource(allLinkArrays, curies, allEmbeddedArrays,\n\t      validation);\n\t  copyNonHalProperties(unparsed, resource);\n\t  resource._original = unparsed;\n\t  return resource;\n\t}\n\t\n\tfunction parseLinks(links, validation, path) {\n\t  links = parseHalProperty(links, parseLink, validation, path);\n\t  if (links == null || links.self == null) {\n\t    // No links at all? Then it implictly misses the self link which it SHOULD\n\t    // have according to spec\n\t    reportValidationIssue('Resource does not have a self link', validation,\n\t        path);\n\t  }\n\t  return links;\n\t}\n\t\n\tfunction parseCuries(linkArrays) {\n\t  if (linkArrays) {\n\t    return linkArrays.curies;\n\t  } else {\n\t    return [];\n\t  }\n\t}\n\t\n\tfunction parseEmbeddedResourcess(original, parentValidation, path) {\n\t  var embedded = parseHalProperty(original, identity, parentValidation, path);\n\t  if (embedded == null) {\n\t    return embedded;\n\t  }\n\t  Object.keys(embedded).forEach(function(key) {\n\t    embedded[key] = embedded[key].map(function(embeddedElement) {\n\t      var childValidation = parentValidation != null ? [] : null;\n\t      var embeddedResource = _parse(embeddedElement, childValidation,\n\t          path.push(key));\n\t      embeddedResource._original = embeddedElement;\n\t      return embeddedResource;\n\t    });\n\t  });\n\t  return embedded;\n\t}\n\t\n\t/*\n\t * Copy over non-hal properties (everything that is not _links or _embedded)\n\t * to the parsed resource.\n\t */\n\tfunction copyNonHalProperties(unparsed, resource) {\n\t  Object.keys(unparsed).forEach(function(key) {\n\t    if (key !== '_links' && key !== '_embedded') {\n\t      resource[key] = unparsed[key];\n\t    }\n\t  });\n\t}\n\t\n\t/*\n\t * Processes one of the two main hal properties, that is _links or _embedded.\n\t * Each sub-property is turned into a single element array if it isn't already\n\t * an array. processingFunction is applied to each array element.\n\t */\n\tfunction parseHalProperty(property, processingFunction, validation, path) {\n\t  if (property == null) {\n\t    return property;\n\t  }\n\t\n\t  // create a shallow copy of the _links/_embedded object\n\t  var copy = {};\n\t\n\t  // normalize each link/each embedded object and put it into our copy\n\t  Object.keys(property).forEach(function(key) {\n\t    copy[key] = arrayfy(key, property[key], processingFunction,\n\t        validation, path);\n\t  });\n\t  return copy;\n\t}\n\t\n\tfunction arrayfy(key, object, fn, validation, path) {\n\t  if (isArray(object)) {\n\t    return object.map(function(element) {\n\t      return fn(key, element, validation, path);\n\t    });\n\t  } else {\n\t    return [fn(key, object, validation, path)];\n\t  }\n\t}\n\t\n\t\n\tfunction parseLink(linkKey, link, validation, path) {\n\t  if (!isObject(link)) {\n\t    throw new Error('Link object is not an actual object: ' + link +\n\t      ' [' + typeof link + ']');\n\t  }\n\t\n\t  // create a shallow copy of the link object\n\t  var copy = shallowCopy(link);\n\t\n\t  // add missing properties mandated by spec and do generic validation\n\t  Object.keys(linkSpec).forEach(function(key) {\n\t    if (copy[key] == null) {\n\t      if (linkSpec[key].required) {\n\t        reportValidationIssue('Link misses required property ' + key + '.',\n\t            validation, path.push(linkKey));\n\t      }\n\t      if (linkSpec[key].defaultValue != null) {\n\t        copy[key] = linkSpec[key].defaultValue;\n\t      }\n\t    }\n\t  });\n\t\n\t  // check more inter-property relations mandated by spec\n\t  if (copy.deprecation) {\n\t    log('Warning: Link ' + pathToString(path.push(linkKey)) +\n\t        ' is deprecated, see ' + copy.deprecation);\n\t  }\n\t  if (copy.templated !== true && copy.templated !== false) {\n\t    copy.templated = false;\n\t  }\n\t\n\t  if (!validation) {\n\t    return copy;\n\t  }\n\t  if (copy.href && copy.href.indexOf('{') >= 0 && !copy.templated) {\n\t    reportValidationIssue('Link seems to be an URI template ' +\n\t        'but its \"templated\" property is not set to true.', validation,\n\t        path.push(linkKey));\n\t  }\n\t  return copy;\n\t}\n\t\n\tfunction isArray(o) {\n\t  return Object.prototype.toString.call(o) === '[object Array]';\n\t}\n\t\n\tfunction isObject(o) {\n\t  return typeof o === 'object';\n\t}\n\t\n\tfunction identity(key, object) {\n\t  return object;\n\t}\n\t\n\tfunction reportValidationIssue(message, validation, path) {\n\t  if (validation) {\n\t    validation.push({\n\t      path: pathToString(path),\n\t      message: message\n\t    });\n\t  }\n\t}\n\t\n\t// TODO fix this ad hoc mess - does ie support console.log as of ie9?\n\tfunction log(message) {\n\t  if (typeof console !== 'undefined' && typeof console.log === 'function') {\n\t    console.log(message);\n\t  }\n\t}\n\t\n\tfunction shallowCopy(source) {\n\t  var copy = {};\n\t  Object.keys(source).forEach(function(key) {\n\t    copy[key] = source[key];\n\t  });\n\t  return copy;\n\t}\n\t\n\tfunction pathToString(path) {\n\t  var s = '$.';\n\t  for (var i = 0; i < path.array().length; i++) {\n\t    s += path.array()[i] + '.';\n\t  }\n\t  s = s.substring(0, s.length - 1);\n\t  return s;\n\t}\n\t\n\tmodule.exports = Parser;\n\n\n/***/ },\n\n/***/ 442:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction Resource(links, curies, embedded, validationIssues) {\n\t  var self = this;\n\t  this._links = links || {};\n\t  this._initCuries(curies);\n\t  this._embedded = embedded || {};\n\t  this._validation = validationIssues || [];\n\t}\n\t\n\tResource.prototype._initCuries = function(curies) {\n\t  this._curiesMap = {};\n\t  if (!curies) {\n\t    this._curies = [];\n\t  } else {\n\t    this._curies = curies;\n\t    for (var i = 0; i < this._curies.length; i++) {\n\t      var curie = this._curies[i];\n\t      this._curiesMap[curie.name] = curie;\n\t    }\n\t  }\n\t  this._preResolveCuries();\n\t};\n\t\n\tResource.prototype._preResolveCuries = function() {\n\t  this._resolvedCuriesMap = {};\n\t  for (var i = 0; i < this._curies.length; i++) {\n\t    var curie = this._curies[i];\n\t    if (!curie.name) {\n\t      continue;\n\t    }\n\t    for (var rel in this._links) {\n\t      if (rel !== 'curies') {\n\t        this._preResolveCurie(curie, rel);\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\tResource.prototype._preResolveCurie = function(curie, rel) {\n\t  var link = this._links[rel];\n\t  var prefixAndReference = rel.split(/:(.+)/);\n\t  var candidate = prefixAndReference[0];\n\t  if (curie.name === candidate) {\n\t    if (curie.templated && prefixAndReference.length >= 1) {\n\t      // TODO resolving templated CURIES should use a small uri template\n\t      // lib, not coded here ad hoc\n\t      var href = curie.href.replace(/(.*){(.*)}(.*)/, '$1' +\n\t          prefixAndReference[1] + '$3');\n\t      this._resolvedCuriesMap[href] = rel;\n\t    } else {\n\t      this._resolvedCuriesMap[curie.href] = rel;\n\t    }\n\t  }\n\t};\n\t\n\tResource.prototype.allLinkArrays = function() {\n\t  return this._links;\n\t};\n\t\n\tResource.prototype.linkArray = function(key) {\n\t  return propertyArray(this._links, key);\n\t};\n\t\n\tResource.prototype.link = function(key, index) {\n\t  return elementOfPropertyArray(this._links, key, index);\n\t};\n\t\n\tResource.prototype.hasCuries = function(key) {\n\t  return this._curies.length > 0;\n\t};\n\t\n\tResource.prototype.curieArray = function(key) {\n\t  return this._curies;\n\t};\n\t\n\tResource.prototype.curie = function(name) {\n\t  return this._curiesMap[name];\n\t};\n\t\n\tResource.prototype.reverseResolveCurie = function(fullUrl) {\n\t  return this._resolvedCuriesMap[fullUrl];\n\t};\n\t\n\tResource.prototype.allEmbeddedResourceArrays = function () {\n\t  return this._embedded;\n\t};\n\t\n\tResource.prototype.embeddedResourceArray = function(key) {\n\t  return propertyArray(this._embedded, key);\n\t};\n\t\n\tResource.prototype.embeddedResource = function(key, index) {\n\t  return elementOfPropertyArray(this._embedded, key, index);\n\t};\n\t\n\tResource.prototype.original = function() {\n\t  return this._original;\n\t};\n\t\n\tfunction propertyArray(object, key) {\n\t  return object != null ? object[key] : null;\n\t}\n\t\n\tfunction elementOfPropertyArray(object, key, index) {\n\t  index = index || 0;\n\t  var array = propertyArray(object, key);\n\t  if (array != null && array.length >= 1) {\n\t    return array[index];\n\t  }\n\t  return null;\n\t}\n\t\n\tResource.prototype.validationIssues = function() {\n\t  return this._validation;\n\t};\n\t\n\t// alias definitions\n\tResource.prototype.allLinks = Resource.prototype.allLinkArrays;\n\tResource.prototype.allEmbeddedArrays =\n\t    Resource.prototype.allEmbeddedResources =\n\t    Resource.prototype.allEmbeddedResourceArrays;\n\tResource.prototype.embeddedArray = Resource.prototype.embeddedResourceArray;\n\tResource.prototype.embedded = Resource.prototype.embeddedResource;\n\tResource.prototype.validation = Resource.prototype.validationIssues;\n\t\n\tmodule.exports = Resource;\n\n\n/***/ },\n\n/***/ 764:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module !== 'undefined' && module.exports){\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\tglobal.UriTemplate = factory();\n\t\t}\n\t})(this, function () {\n\t\tvar uriTemplateGlobalModifiers = {\n\t\t\t\"+\": true,\n\t\t\t\"#\": true,\n\t\t\t\".\": true,\n\t\t\t\"/\": true,\n\t\t\t\";\": true,\n\t\t\t\"?\": true,\n\t\t\t\"&\": true\n\t\t};\n\t\tvar uriTemplateSuffices = {\n\t\t\t\"*\": true\n\t\t};\n\t\tvar urlEscapedChars = /[:/&?#]/;\n\t\n\t\tfunction notReallyPercentEncode(string) {\n\t\t\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\t\t\treturn \"%\" + doubleEncoded.substring(3);\n\t\t\t});\n\t\t}\n\t\n\t\tfunction isPercentEncoded(string) {\n\t\t\tstring = string.replace(/%../g, '');\n\t\t\treturn encodeURIComponent(string) === string;\n\t\t}\n\t\n\t\tfunction uriTemplateSubstitution(spec) {\n\t\t\tvar modifier = \"\";\n\t\t\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\t\t\tmodifier = spec.charAt(0);\n\t\t\t\tspec = spec.substring(1);\n\t\t\t}\n\t\t\tvar separator = \"\";\n\t\t\tvar prefix = \"\";\n\t\t\tvar shouldEscape = true;\n\t\t\tvar showVariables = false;\n\t\t\tvar trimEmptyString = false;\n\t\t\tif (modifier == '+') {\n\t\t\t\tshouldEscape = false;\n\t\t\t} else if (modifier == \".\") {\n\t\t\t\tprefix = \".\";\n\t\t\t\tseparator = \".\";\n\t\t\t} else if (modifier == \"/\") {\n\t\t\t\tprefix = \"/\";\n\t\t\t\tseparator = \"/\";\n\t\t\t} else if (modifier == '#') {\n\t\t\t\tprefix = \"#\";\n\t\t\t\tshouldEscape = false;\n\t\t\t} else if (modifier == ';') {\n\t\t\t\tprefix = \";\";\n\t\t\t\tseparator = \";\",\n\t\t\t\tshowVariables = true;\n\t\t\t\ttrimEmptyString = true;\n\t\t\t} else if (modifier == '?') {\n\t\t\t\tprefix = \"?\";\n\t\t\t\tseparator = \"&\",\n\t\t\t\tshowVariables = true;\n\t\t\t} else if (modifier == '&') {\n\t\t\t\tprefix = \"&\";\n\t\t\t\tseparator = \"&\",\n\t\t\t\tshowVariables = true;\n\t\t\t}\n\t\n\t\t\tvar varNames = [];\n\t\t\tvar varList = spec.split(\",\");\n\t\t\tvar varSpecs = [];\n\t\t\tvar varSpecMap = {};\n\t\t\tfor (var i = 0; i < varList.length; i++) {\n\t\t\t\tvar varName = varList[i];\n\t\t\t\tvar truncate = null;\n\t\t\t\tif (varName.indexOf(\":\") != -1) {\n\t\t\t\t\tvar parts = varName.split(\":\");\n\t\t\t\t\tvarName = parts[0];\n\t\t\t\t\ttruncate = parseInt(parts[1]);\n\t\t\t\t}\n\t\t\t\tvar suffices = {};\n\t\t\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t\t\t}\n\t\t\t\tvar varSpec = {\n\t\t\t\t\ttruncate: truncate,\n\t\t\t\t\tname: varName,\n\t\t\t\t\tsuffices: suffices\n\t\t\t\t};\n\t\t\t\tvarSpecs.push(varSpec);\n\t\t\t\tvarSpecMap[varName] = varSpec;\n\t\t\t\tvarNames.push(varName);\n\t\t\t}\n\t\t\tvar subFunction = function (valueFunction) {\n\t\t\t\tvar result = \"\";\n\t\t\t\tvar startIndex = 0;\n\t\t\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\t\t\tvar varSpec = varSpecs[i];\n\t\t\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\t\t\tif (value == null || (Array.isArray(value) && value.length == 0) || (typeof value == 'object' && Object.keys(value).length == 0)) {\n\t\t\t\t\t\tstartIndex++;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (i == startIndex) {\n\t\t\t\t\t\tresult += prefix;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult += (separator || \",\");\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\n\t\t\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof value == \"object\") {\n\t\t\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar first = true;\n\t\t\t\t\t\tfor (var key in value) {\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\n\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\n\t\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\t\t\tif (!trimEmptyString || value != \"\") {\n\t\t\t\t\t\t\t\tresult += \"=\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t};\n\t\t\tvar guessFunction = function (stringValue, resultObj, strict) {\n\t\t\t\tif (prefix) {\n\t\t\t\t\tstringValue = stringValue.substring(prefix.length);\n\t\t\t\t}\n\t\t\t\tif (varSpecs.length == 1 && varSpecs[0].suffices['*']) {\n\t\t\t\t\tvar varSpec = varSpecs[0];\n\t\t\t\t\tvar varName = varSpec.name;\n\t\t\t\t\tvar arrayValue = varSpec.suffices['*'] ? stringValue.split(separator || \",\") : [stringValue];\n\t\t\t\t\tvar hasEquals = (shouldEscape && stringValue.indexOf('=') != -1);\t// There's otherwise no way to distinguish between \"{value*}\" for arrays and objects\n\t\t\t\t\tfor (var i = 1; i < arrayValue.length; i++) {\n\t\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\t\tif (hasEquals && stringValue.indexOf('=') == -1) {\n\t\t\t\t\t\t\t// Bit of a hack - if we're expecting \"=\" for key/value pairs, and values can't contain \"=\", then assume a value has been accidentally split\n\t\t\t\t\t\t\tarrayValue[i - 1] += (separator || \",\") + stringValue;\n\t\t\t\t\t\t\tarrayValue.splice(i, 1);\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\t\tif (shouldEscape && stringValue.indexOf('=') != -1) {\n\t\t\t\t\t\t\thasEquals = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar innerArrayValue = stringValue.split(\",\");\n\t\t\t\t\t\tif (innerArrayValue.length == 1) {\n\t\t\t\t\t\t\tarrayValue[i] = innerArrayValue[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarrayValue[i] = innerArrayValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (showVariables || hasEquals) {\n\t\t\t\t\t\tvar objectValue = resultObj[varName] || {};\n\t\t\t\t\t\tfor (var j = 0; j < arrayValue.length; j++) {\n\t\t\t\t\t\t\tvar innerValue = stringValue;\n\t\t\t\t\t\t\tif (showVariables && !innerValue) {\n\t\t\t\t\t\t\t\t// The empty string isn't a valid variable, so if our value is zero-length we have nothing\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof arrayValue[j] == \"string\") {\n\t\t\t\t\t\t\t\tvar stringValue = arrayValue[j];\n\t\t\t\t\t\t\t\tvar innerVarName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\t\tvar stringValue = stringValue.substring(innerVarName.length + 1);\n\t\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(stringValue)) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstringValue = decodeURIComponent(stringValue);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinnerValue = stringValue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar stringValue = arrayValue[j][0];\n\t\t\t\t\t\t\t\tvar innerVarName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\t\tvar stringValue = stringValue.substring(innerVarName.length + 1);\n\t\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(stringValue)) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstringValue = decodeURIComponent(stringValue);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tarrayValue[j][0] = stringValue;\n\t\t\t\t\t\t\t\tinnerValue = arrayValue[j];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerVarName)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinnerVarName = decodeURIComponent(innerVarName);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (objectValue[innerVarName] !== undefined) {\n\t\t\t\t\t\t\t\tif (Array.isArray(objectValue[innerVarName])) {\n\t\t\t\t\t\t\t\t\tobjectValue[innerVarName].push(innerValue);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tobjectValue[innerVarName] = [objectValue[innerVarName], innerValue];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobjectValue[innerVarName] = innerValue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (Object.keys(objectValue).length == 1 && objectValue[varName] !== undefined) {\n\t\t\t\t\t\t\tresultObj[varName] = objectValue[varName];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = objectValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\tfor (var j = 0; j < arrayValue.length; j++) {\n\t\t\t\t\t\t\t\tvar innerArrayValue = arrayValue[j];\n\t\t\t\t\t\t\t\tif (Array.isArray(innerArrayValue)) {\n\t\t\t\t\t\t\t\t\tfor (var k = 0; k < innerArrayValue.length; k++) {\n\t\t\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue[k])) {\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tinnerArrayValue[k] = decodeURIComponent(innerArrayValue[k]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue)) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tarrayValue[j] = decodeURIComponent(innerArrayValue);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (resultObj[varName] !== undefined) {\n\t\t\t\t\t\t\tif (Array.isArray(resultObj[varName])) {\n\t\t\t\t\t\t\t\tresultObj[varName] = resultObj[varName].concat(arrayValue);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresultObj[varName] = [resultObj[varName]].concat(arrayValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (arrayValue.length == 1 && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\t\tresultObj[varName] = arrayValue[0];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresultObj[varName] = arrayValue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar arrayValue = (varSpecs.length == 1) ? [stringValue] : stringValue.split(separator || \",\");\n\t\t\t\t\tvar specIndexMap = {};\n\t\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\t\t// Try from beginning\n\t\t\t\t\t\tvar firstStarred = 0;\n\t\t\t\t\t\tfor (; firstStarred < varSpecs.length - 1 && firstStarred < i; firstStarred++) {\n\t\t\t\t\t\t\tif (varSpecs[firstStarred].suffices['*']) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (firstStarred == i) {\n\t\t\t\t\t\t\t// The first [i] of them have no \"*\" suffix\n\t\t\t\t\t\t\tspecIndexMap[i] = i;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Try from the end\n\t\t\t\t\t\t\tfor (var lastStarred = varSpecs.length - 1; lastStarred > 0 && (varSpecs.length - lastStarred) < (arrayValue.length - i); lastStarred--) {\n\t\t\t\t\t\t\t\tif (varSpecs[lastStarred].suffices['*']) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ((varSpecs.length - lastStarred) == (arrayValue.length - i)) {\n\t\t\t\t\t\t\t\t// The last [length - i] of them have no \"*\" suffix\n\t\t\t\t\t\t\t\tspecIndexMap[i] = lastStarred;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Just give up and use the first one\n\t\t\t\t\t\tspecIndexMap[i] = firstStarred;\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\t\tif (!stringValue && showVariables) {\n\t\t\t\t\t\t\t// The empty string isn't a valid variable, so if our value is zero-length we have nothing\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar innerArrayValue = stringValue.split(\",\");\n\t\t\t\t\t\tvar hasEquals = false;\n\t\n\t\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\t\tvar stringValue = innerArrayValue[0]; // using innerArrayValue\n\t\t\t\t\t\t\tvar varName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\tvar stringValue = stringValue.substring(varName.length + 1);\n\t\t\t\t\t\t\tinnerArrayValue[0] = stringValue;\n\t\t\t\t\t\t\tvar varSpec = varSpecMap[varName] || varSpecs[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar varSpec = varSpecs[specIndexMap[i]];\n\t\t\t\t\t\t\tvar varName = varSpec.name;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor (var j = 0; j < innerArrayValue.length; j++) {\n\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue[j])) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinnerArrayValue[j] = decodeURIComponent(innerArrayValue[j]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ((showVariables || varSpec.suffices['*'])&& resultObj[varName] !== undefined) {\n\t\t\t\t\t\t\tif (Array.isArray(resultObj[varName])) {\n\t\t\t\t\t\t\t\tresultObj[varName] = resultObj[varName].concat(innerArrayValue);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresultObj[varName] = [resultObj[varName]].concat(innerArrayValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (innerArrayValue.length == 1 && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\t\tresultObj[varName] = innerArrayValue[0];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresultObj[varName] = innerArrayValue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tvarNames: varNames,\n\t\t\t\tprefix: prefix,\n\t\t\t\tsubstitution: subFunction,\n\t\t\t\tunSubstitution: guessFunction\n\t\t\t};\n\t\t}\n\t\n\t\tfunction UriTemplate(template) {\n\t\t\tif (!(this instanceof UriTemplate)) {\n\t\t\t\treturn new UriTemplate(template);\n\t\t\t}\n\t\t\tvar parts = template.split(\"{\");\n\t\t\tvar textParts = [parts.shift()];\n\t\t\tvar prefixes = [];\n\t\t\tvar substitutions = [];\n\t\t\tvar unSubstitutions = [];\n\t\t\tvar varNames = [];\n\t\t\twhile (parts.length > 0) {\n\t\t\t\tvar part = parts.shift();\n\t\t\t\tvar spec = part.split(\"}\")[0];\n\t\t\t\tvar remainder = part.substring(spec.length + 1);\n\t\t\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\t\t\tsubstitutions.push(funcs.substitution);\n\t\t\t\tunSubstitutions.push(funcs.unSubstitution);\n\t\t\t\tprefixes.push(funcs.prefix);\n\t\t\t\ttextParts.push(remainder);\n\t\t\t\tvarNames = varNames.concat(funcs.varNames);\n\t\t\t}\n\t\t\tthis.fill = function (valueFunction) {\n\t\t\t\tif (valueFunction && typeof valueFunction !== 'function') {\n\t\t\t\t\tvar value = valueFunction;\n\t\t\t\t\tvalueFunction = function (varName) {\n\t\t\t\t\t\treturn value[varName];\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\tvar result = textParts[0];\n\t\t\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\t\t\tvar substitution = substitutions[i];\n\t\t\t\t\tresult += substitution(valueFunction);\n\t\t\t\t\tresult += textParts[i + 1];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t};\n\t\t\tthis.fromUri = function (substituted, options) {\n\t\t\t\toptions = options || {};\n\t\t\t\tvar result = {};\n\t\t\t\tfor (var i = 0; i < textParts.length; i++) {\n\t\t\t\t\tvar part = textParts[i];\n\t\t\t\t\tif (substituted.substring(0, part.length) !== part) {\n\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t}\n\t\t\t\t\tsubstituted = substituted.substring(part.length);\n\t\t\t\t\tif (i >= textParts.length - 1) {\n\t\t\t\t\t\t// We've run out of input - is there any template left?\n\t\t\t\t\t\tif (substituted == \"\") {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar prefix = prefixes[i];\n\t\t\t\t\tif (prefix && substituted.substring(0, prefix.length) !== prefix) {\n\t\t\t\t\t\t// All values are optional - if we have a prefix and it doesn't match, move along\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Find the next part to un-substitute\n\t\t\t\t\tvar nextPart = textParts[i + 1];\n\t\t\t\t\tvar offset = i;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tif (offset == textParts.length - 2) {\n\t\t\t\t\t\t\tvar endPart = substituted.substring(substituted.length - nextPart.length);\n\t\t\t\t\t\t\tif (endPart !== nextPart) {\n\t\t\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar stringValue = substituted.substring(0, substituted.length - nextPart.length);\n\t\t\t\t\t\t\tsubstituted = endPart;\n\t\t\t\t\t\t} else if (nextPart) {\n\t\t\t\t\t\t\tvar nextPartPos = substituted.indexOf(nextPart);\n\t\t\t\t\t\t\tvar stringValue = substituted.substring(0, nextPartPos);\n\t\t\t\t\t\t\tsubstituted = substituted.substring(nextPartPos);\n\t\t\t\t\t\t} else if (prefixes[offset + 1]) {\n\t\t\t\t\t\t\tvar nextPartPos = substituted.indexOf(prefixes[offset + 1]);\n\t\t\t\t\t\t\tif (nextPartPos === -1) nextPartPos = substituted.length;\n\t\t\t\t\t\t\tvar stringValue = substituted.substring(0, nextPartPos);\n\t\t\t\t\t\t\tsubstituted = substituted.substring(nextPartPos);\n\t\t\t\t\t\t} else if (textParts.length > offset + 2) {\n\t\t\t\t\t\t\t// If the separator between this variable and the next is blank (with no prefix), continue onwards\n\t\t\t\t\t\t\toffset++;\n\t\t\t\t\t\t\tnextPart = textParts[offset + 1];\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar stringValue = substituted;\n\t\t\t\t\t\t\tsubstituted = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (!unSubstitutions[i](stringValue, result, options.strict)) {\n\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tthis.varNames = varNames;\n\t\t\tthis.template = template;\n\t\t}\n\t\tUriTemplate.prototype = {\n\t\t\ttoString: function () {\n\t\t\t\treturn this.template;\n\t\t\t},\n\t\t\tfillFromObject: function (obj) {\n\t\t\t\treturn this.fill(obj);\n\t\t\t},\n\t\t\ttest: function (uri, options) {\n\t\t\t\treturn !!this.fromUri(uri, options)\n\t\t\t}\n\t\t};\n\t\n\t\treturn UriTemplate;\n\t});\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** main.c54589b6b60650ba87c3.bundle.js\n **/","module.exports = \".github-link{color:#333}.github-link:hover{color:#4078c0;text-decoration:none}.octicon{fill:currentColor}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./demo/app/app.component.css\n ** module id = 767\n ** module chunks = 2\n **/","module.exports = \"<div class=\\\"container p-t-3 p-b-3\\\">\\n\\n  <h1>HAL Navigator</h1>\\n\\n  <p class=\\\"lead\\\">Hyping thru media with the hypermedia abstraction language.</p>\\n\\n  <a href=\\\"https://github.com/dherges/ng2-hal\\\" aria-label=\\\"Homepage\\\" class=\\\"github-link\\\">\\n      <svg aria-hidden=\\\"true\\\" class=\\\"octicon\\\" height=\\\"32\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"32\\\"><path d=\\\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\\\"></path></svg>\\n  </a>\\n\\n  <hr>\\n\\n  <main>\\n    <form (ngSubmit)=\\\"onFormSubmit()\\\">\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"formVerb\\\" class=\\\"col-sm-2\\\">HTTP Verb:</label>\\n        <div class=\\\"col-sm-10\\\">\\n          <select class=\\\"form-control\\\" id=\\\"formVerb\\\"\\n                  name=\\\"verb\\\" [(ngModel)]=\\\"model.verb\\\">\\n            <option>GET</option>\\n            <option>POST</option>\\n            <option>PUT</option>\\n            <option>DELETE</option>\\n            <option>PATCH</option>\\n            <option>HEAD</option>\\n            <option>OPTIONS</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"formUrlInput\\\" class=\\\"col-sm-2\\\">URL:</label>\\n        <div class=\\\"col-sm-10\\\">\\n          <input id=\\\"formUrlInput\\\" class=\\\"form-control\\\"\\n                 type=\\\"text\\\" name=\\\"url\\\" [(ngModel)]=\\\"model.url\\\"/>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <div class=\\\"offset-sm-2 col-sm-10\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Navigate</button>\\n        </div>\\n      </div>\\n    </form>\\n  </main>\\n\\n  <nav>\\n    <ul class=\\\"nav nav-tabs m-b-1\\\">\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'hal'\\\"      (click)=\\\"onSwitchTab('hal')\\\">HAL Resource</a></li>\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'links'\\\"    (click)=\\\"onSwitchTab('links')\\\">Links</a></li>\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'embedded'\\\" (click)=\\\"onSwitchTab('embedded')\\\">Embedded</a></li>\\n      <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" href=\\\"#\\\" [class.active]=\\\"activeTab == 'http'\\\"     (click)=\\\"onSwitchTab('http')\\\">HTTP</a></li>\\n    </ul>\\n  </nav>\\n\\n  <aside *ngIf=\\\"activeTab == 'hal'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Original Resource</h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.original() | json }}</code></pre>\\n      </div>\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Resource <small><em>(normalized by halfred)</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource | json }}</code></pre>\\n      </div>\\n    </div>\\n  </aside>\\n\\n  <aside *ngIf=\\\"activeTab == 'links'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Links <small><em>resource.allLinks()</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.allLinks() | json }}</code></pre>\\n\\n        <h4>CURIEs <small><em>resource.curieArray()</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.curieArray() | json }}</code></pre>\\n      </div>\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Navigation</h4>\\n        <ul>\\n          <li *ngFor=\\\"let link of links\\\">\\n            <a href=\\\"{{link.link.href}}\\\" (click)=\\\"onNavigate(link.link)\\\">{{link.rel}} {{link.link.href}}</a>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </aside>\\n\\n  <aside *ngIf=\\\"activeTab == 'embedded'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-12\\\">\\n        <h4>All Embedded Resources <small><em>resource.allEmbeddedResources()</em></small></h4>\\n        <pre><code class=\\\"small\\\">{{ resource?.allEmbeddedResources() | json}}</code></pre>\\n      </div>\\n    </div>\\n  </aside>\\n\\n  <aside *ngIf=\\\"activeTab == 'http'\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Request</h4>\\n        <pre><code class=\\\"small\\\">{{ request | json}}</code></pre>\\n      </div>\\n      <div class=\\\"col-md-6\\\">\\n        <h4>Response</h4>\\n        <pre><code class=\\\"small\\\">{{ response | json }}</code></pre>\\n      </div>\\n    </div>\\n  </aside>\\n\\n\\n  <footer>\\n  </footer>\\n\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./demo/app/app.component.html\n ** module id = 556\n ** module chunks = 2\n **/","import { Component, ViewEncapsulation } from '@angular/core';\nimport { Request, Response } from '@angular/http';\n\nimport { Navigator, HalDocument, ConversionStrategy, Resource, Link } from '../../dist';\n\n/** Demo application */\n@Component({\n  selector: 'app',\n  template: require('./app.component.html'),\n  styles: [ require('./app.component.css') ]\n})\nexport class AppComponent {\n\n  model: any = {\n    verb: 'GET',\n    url: 'hal/orders.json'\n  };\n  activeTab: string = 'hal';\n\n  resource: Resource;\n  response: Response;\n  request: Request;\n  links: {rel: string, link: Link}[] = [];\n\n  constructor(\n    private navigator: Navigator\n  ) {}\n\n  ngOnInit() {\n    console.log(\"AppComponent inited.\", this.navigator);\n\n    /*\n    this.navigator\n      .get('/hal/orders.json')\n      .mergeMap((hal: HalDocument) => { // XX .. follow\n        console.log(\"mergeMap\");\n        return this.navigator.get('/hal/orders_523.json')\n      })\n      .mergeMap((hal: HalDocument) => { // XX .. follow\n        console.log(\"mergeMap\");\n        return this.navigator.get('/hal/links_self.json')\n      })\n      .subscribe((hal: HalDocument) => { // XX .. follow\n        console.log(hal);\n        console.log(\"finished\");\n      })\n    */\n  }\n\n  onFormSubmit() {\n    console.log(\"form model:\", this.model);\n\n    this.navigator\n      .get(this.model.url)\n      .subscribe(\n        (doc: HalDocument) => {\n          this.resource = doc.resource;\n          this.response = doc.response;\n          this.request = doc.request;\n\n          this.links = [];\n          let allLinks = this.resource.allLinks();\n          for (let key in allLinks) {\n            let links = this.resource.linkArray(key);\n\n            for (let link of links) {\n              this.links.push({rel: key, link});\n            }\n          }\n        }\n      )\n  }\n\n  onSwitchTab(name: string) {\n    this.activeTab = name;\n\n    return false;\n  }\n\n  onNavigate(link: Link) {\n    this.model['url'] = link.href;\n\n    return false;\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./demo/app/app.component.ts\n **/","import { NgModule, Provider } from '@angular/core';\nimport { BrowserModule  }     from '@angular/platform-browser';\nimport { HttpModule }         from '@angular/http';\nimport { FormsModule }        from '@angular/forms';\nimport { AppComponent }       from './app.component';\n\n\nimport { Navigator, ConversionStrategy, ConversionStrategyJson } from '../../dist';\nconsole.log(ConversionStrategy);\n\nconst APP_PROVIDERS: any[] = [\n  new Provider(ConversionStrategy, { useFactory: () => new ConversionStrategyJson() }),\n  Navigator\n];\n\n@NgModule({\n  declarations: [ AppComponent ],\n  bootstrap:    [ AppComponent ],\n  imports:      [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers:    [ APP_PROVIDERS ]\n})\nexport class AppModule {}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./demo/app/app.module.ts\n **/","export * from './app.module';\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./demo/app/index.ts\n **/","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app';\nimport { decorateComponentRef } from './platform/environment';\n\n/* Bootstrap our Angular app with a top level ngmodule `AppModule`. */\nexport function main(initialHmrState?: any): Promise<any> {\n\n  return platformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .then(decorateComponentRef)\n    .catch(err => console.error(err));\n}\n\n// bootstrap when document is ready\ndocument.addEventListener('DOMContentLoaded', () => main());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./demo/main.browser.ts\n **/","// Angular 2\n// rc2 workaround\nimport { enableDebugTools, disableDebugTools } from '@angular/platform-browser';\nimport { enableProdMode } from '@angular/core';\n\n// Environment Providers\nlet PROVIDERS: any[] = [\n  // common env directives\n];\n\n// Angular debug tools in the dev console\n// https://github.com/angular/angular/blob/86405345b781a9dc2438c0fbe3e9409245647019/TOOLS_JS.md\nlet _decorateComponentRef = function identity(value: any) { return value; };\n\nif ('production' === ENV) {\n  // Production\n  disableDebugTools();\n  enableProdMode();\n\n  PROVIDERS = [\n    ...PROVIDERS,\n    // custom providers in production\n  ];\n\n} else {\n\n  _decorateComponentRef = (cmpRef) => {\n    let _ng = (<any>window).ng;\n    enableDebugTools(cmpRef);\n    (<any>window).ng.probe = _ng.probe;\n    (<any>window).ng.coreTokens = _ng.coreTokens;\n    return cmpRef;\n  };\n\n  // Development\n  PROVIDERS = [\n    ...PROVIDERS,\n    // custom providers in development\n  ];\n\n}\n\nexport const decorateComponentRef = _decorateComponentRef;\n\nexport const ENV_PROVIDERS = [\n  ...PROVIDERS\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./demo/platform/environment.ts\n **/","import { Response }             from '@angular/http';\n\nimport { ConversionStrategy }   from './conversion-strategy';\nimport { Resource }             from './resource';\n\n\nexport class ConversionStrategyComposite implements ConversionStrategy {\n\n  constructor(\n    private conversionStrategies: ConversionStrategy[]\n  ) {}\n\n  accepts(response: Response): boolean {\n    let c: ConversionStrategy = this.findFirst(response);\n\n    return c ? true : false;\n  }\n\n  convert(response: Response): Resource {\n    let c: ConversionStrategy = this.findFirst(response);\n\n    if (c) {\n      return c.convert(response);\n    }\n\n    return;\n  }\n\n  private findFirst(response: Response): ConversionStrategy {\n    for (let c of this.conversionStrategies) {\n      if (c.accepts(response)) {\n        return c;\n      }\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/conversion-strategy-composite.ts\n **/","import { Injectable }           from '@angular/core';\nimport { Response }             from '@angular/http';\n\nimport { parse }                from 'halfred';\n\nimport { ConversionStrategy }   from './conversion-strategy';\nimport { Resource }             from './resource';\n\n\n/** A converter for 'application/hal+json' */\n@Injectable()\nexport class ConversionStrategyJson implements ConversionStrategy {\n\n  constructor() {}\n\n  accepts(response: Response): boolean {\n    let mediaType: string = response.headers.get('Content-Type');\n\n    return mediaType === 'application/json' || mediaType === 'application/hal+json';\n  }\n\n  convert(response: Response): Resource {\n    let data = response.json();\n\n    return new Resource(parse(data));\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/conversion-strategy-json.ts\n **/","import { Injectable }   from '@angular/core';\nimport { Response }     from '@angular/http';\n\nimport { Resource }     from './resource';\n\n\nexport abstract class ConversionStrategy {\n\n  abstract accepts(response: Response): boolean;\n\n  abstract convert(response: Response): Resource;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/conversion-strategy.ts\n **/","import { Request, Response }  from '@angular/http';\n\nimport { Resource }           from './resource';\n\n\nexport class HalDocument {\n\n  constructor(\n    public request: Request,\n    public response: Response,\n    public resource: Resource\n  ) {}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/hal-document.ts\n **/","import halfred = require('halfred');\nexport {\n  parse,\n  enableValidation,\n  disableValidation,\n  ResourceCollection,\n  LinkCollection,\n  Link\n}                                       from 'halfred';\n\nexport { ConversionStrategy }           from './conversion-strategy';\nexport { ConversionStrategyJson }       from './conversion-strategy-json';\nexport { ConversionStrategyComposite }  from './conversion-strategy-composite';\nexport { HalDocument }                  from './hal-document';\nexport { Navigator }                    from './navigator';\nexport { Resource }                     from './resource';\nexport { Uri }                          from './uri';\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/index.ts\n **/","import { Injectable }           from '@angular/core';\nimport {\n  Http,\n  Request,\n  RequestMethod,\n  RequestOptions,\n  RequestOptionsArgs,\n  Response\n}                               from '@angular/http';\n\nimport { Observable }           from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\nimport { ConversionStrategy }   from './conversion-strategy';\nimport { HalDocument }          from './hal-document';\nimport { Resource }             from './resource';\n\n\n@Injectable()\nexport class Navigator {\n\n  constructor(\n    private http: Http,\n    private conversionStrategy: ConversionStrategy\n  ) {}\n\n\n  public get(url: string, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Get, url, options);\n  }\n\n  public post(url: string, body: any, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Post, url, options, body);\n  }\n\n  public put(url: string, body: any, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Put, url, options, body);\n  }\n\n  public delete(url: string, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Delete, url, options);\n  }\n\n  public patch(url: string, body: any, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Patch, url, options, body);\n  }\n\n  public head(url: string, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Head, url, options);\n  }\n\n  public options(url: string, options?: RequestOptionsArgs): Observable<HalDocument> {\n    return this.doNavigate(RequestMethod.Options, url, options);\n  }\n\n  public navigate(url: string | Request, options?: RequestOptionsArgs): Observable<HalDocument> {\n    let req: Request;\n    if (typeof url === 'string') {\n      let opts: RequestOptionsArgs = options ? options : {};\n      opts.url = url as string;\n\n      req = new Request(new RequestOptions(options));\n    } else {\n      req = url as Request;\n    }\n\n    return this.doHttp(req);\n  }\n\n  private doNavigate(\n    method: string | RequestMethod,\n    url: string,\n    options?: RequestOptionsArgs,\n    body?: any\n  ): Observable<HalDocument> {\n    if (options) {\n      options.url = url;\n      options.method = method;\n    } else {\n      options = { url, method };\n    }\n\n    if (body) {\n      options.body = body;\n    }\n\n    let request: Request = new Request(new RequestOptions(options));\n\n    return this.doHttp(request);\n  }\n\n  private doHttp(request: Request): Observable<HalDocument> {\n    return this.http\n      .request(request)\n      .map((response: Response) => this.doConvert(request, response));\n  }\n\n  private doConvert(request: Request, response: Response): HalDocument {\n    let resource: Resource = this.conversionStrategy.convert(response);\n\n    return new HalDocument(request, response, resource);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/navigator.ts\n **/","/// <reference path=\"../typings/halfred.d.ts\" />\nimport { Resource as HalfredResource, LinkCollection, Link, ResourceCollection } from 'halfred';\n\n\n/** Abstraction of a HAL resource. Based on halfred. */\nexport class Resource implements HalfredResource {\n\n  constructor(\n    private delegate: HalfredResource\n  ) {}\n\n\n\n  allLinkArrays(): LinkCollection {\n    return this.delegate.allLinkArrays();\n  }\n\n  allLinks(): LinkCollection {\n    return this.delegate.allLinks();\n  }\n\n  linkArray(key: string): Link[] {\n    return this.delegate.linkArray(key);\n  }\n\n  link(key: string): Link {\n    return this.delegate.link(key);\n  }\n\n  allEmbeddedResourceArrays(): ResourceCollection {\n    return this.delegate.allEmbeddedResourceArrays();\n  }\n\n  allEmbeddedArrays(): ResourceCollection {\n    return this.delegate.allEmbeddedArrays();\n  }\n\n  allEmbeddedResources(): ResourceCollection  {\n    return this.delegate.allEmbeddedResources();\n  }\n\n  embeddedResourceArray(key: string): Resource[] {\n    return this.delegate.embeddedResourceArray(key)\n      .map((val: HalfredResource) => new Resource(val));\n  }\n\n  embeddedArray(key: string): Resource[] {\n    return this.delegate.embeddedArray(key)\n      .map((val: HalfredResource) => new Resource(val));\n  }\n\n  embeddedResource(key: string): Resource {\n    return new Resource(this.delegate.embeddedResource(key));\n  }\n\n  embedded(key: string): Resource {\n    return new Resource(this.delegate.embedded(key));\n  }\n\n  original(): any {\n    return this.delegate.original();\n  }\n\n  hasCuries(): boolean {\n    return this.delegate.hasCuries();\n  }\n\n  curieArray(): Link[] {\n    return this.delegate.curieArray();\n  }\n\n  curie(name: string): Link {\n    return this.delegate.curie(name);\n  }\n\n  reverseResolveCurie(fullUrl: string): string {\n    return this.delegate.reverseResolveCurie(fullUrl);\n  }\n\n  validationIssues(): any {\n    return this.delegate.validationIssues();\n  }\n\n  validation(): any {\n    return this.delegate.validation();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/resource.ts\n **/","/// <reference path=\"../typings/uri-templates.d.ts\" />\nimport utpl = require('uri-templates');\n\nconsole.log(utpl);\nconsole.log(utpl('http://www.foo.com/{foo}?{bar*}').fillFromObject({foo: 123, bar: 789}));\n\n\nexport class Uri {\n\n  public static of(url: string): Uri {\n    return new Uri(url);\n  }\n\n  constructor (\n    public url: string\n  ) {}\n\n  public concrete (vars: Object): string {\n    return utpl(this.url).fillFromObject(vars);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/uri.ts\n **/","var Parser = require('./lib/parser')\n  , Resource = require('./lib/resource')\n  , validationFlag = false;\n\nmodule.exports = {\n\n  parse: function(unparsed) {\n    return new Parser().parse(unparsed, validationFlag);\n  },\n\n  enableValidation: function(flag) {\n    validationFlag = (flag != null) ? flag : true;\n  },\n\n  disableValidation: function() {\n    validationFlag = false;\n  },\n\n  Resource: Resource\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/halfred/halfred.js\n ** module id = 441\n ** module chunks = 2\n **/","'use strict';\n\n/*\n * A very naive copy-on-write immutable stack. Since the size of the stack\n * is equal to the depth of the embedded resources for one HAL resource, the bad\n * performance for the copy-on-write approach is probably not a problem at all.\n * Might be replaced by a smarter solution later. Or not. Whatever.\n */\nfunction ImmutableStack() {\n  if (arguments.length >= 1) {\n    this._array = arguments[0];\n  } else {\n    this._array = [];\n  }\n}\n\nImmutableStack.prototype.array = function() {\n  return this._array;\n};\n\nImmutableStack.prototype.isEmpty = function(array) {\n  return this._array.length === 0;\n};\n\nImmutableStack.prototype.push = function(element) {\n  var array = this._array.slice(0);\n  array.push(element);\n  return new ImmutableStack(array);\n};\n\nImmutableStack.prototype.pop = function() {\n  var array = this._array.slice(0, this._array.length - 1);\n  return new ImmutableStack(array);\n};\n\nImmutableStack.prototype.peek = function() {\n  if (this.isEmpty()) {\n    throw new Error('can\\'t peek on empty stack');\n  }\n  return this._array[this._array.length - 1];\n};\n\nmodule.exports = ImmutableStack;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/halfred/lib/immutable_stack.js\n ** module id = 761\n ** module chunks = 2\n **/","'use strict';\n\nvar Resource = require('./resource')\n  , Stack = require('./immutable_stack');\n\nvar linkSpec = {\n  href: { required: true, defaultValue: null },\n  templated: { required: false, defaultValue: false },\n  type: { required: false, defaultValue: null },\n  deprecation: { required: false, defaultValue: null },\n  name: { required: false, defaultValue: null },\n  profile: { required: false, defaultValue: null },\n  title: { required: false, defaultValue: null },\n  hreflang: { required: false, defaultValue: null }\n};\n\nfunction Parser() {\n}\n\nParser.prototype.parse = function parse(unparsed, validationFlag) {\n  var validation = validationFlag ? [] : null;\n  return _parse(unparsed, validation, new Stack());\n};\n\nfunction _parse(unparsed, validation, path) {\n  if (unparsed == null) {\n    return unparsed;\n  }\n  var allLinkArrays = parseLinks(unparsed._links, validation,\n      path.push('_links'));\n  var curies = parseCuries(allLinkArrays);\n  var allEmbeddedArrays = parseEmbeddedResourcess(unparsed._embedded,\n      validation, path.push('_embedded'));\n  var resource = new Resource(allLinkArrays, curies, allEmbeddedArrays,\n      validation);\n  copyNonHalProperties(unparsed, resource);\n  resource._original = unparsed;\n  return resource;\n}\n\nfunction parseLinks(links, validation, path) {\n  links = parseHalProperty(links, parseLink, validation, path);\n  if (links == null || links.self == null) {\n    // No links at all? Then it implictly misses the self link which it SHOULD\n    // have according to spec\n    reportValidationIssue('Resource does not have a self link', validation,\n        path);\n  }\n  return links;\n}\n\nfunction parseCuries(linkArrays) {\n  if (linkArrays) {\n    return linkArrays.curies;\n  } else {\n    return [];\n  }\n}\n\nfunction parseEmbeddedResourcess(original, parentValidation, path) {\n  var embedded = parseHalProperty(original, identity, parentValidation, path);\n  if (embedded == null) {\n    return embedded;\n  }\n  Object.keys(embedded).forEach(function(key) {\n    embedded[key] = embedded[key].map(function(embeddedElement) {\n      var childValidation = parentValidation != null ? [] : null;\n      var embeddedResource = _parse(embeddedElement, childValidation,\n          path.push(key));\n      embeddedResource._original = embeddedElement;\n      return embeddedResource;\n    });\n  });\n  return embedded;\n}\n\n/*\n * Copy over non-hal properties (everything that is not _links or _embedded)\n * to the parsed resource.\n */\nfunction copyNonHalProperties(unparsed, resource) {\n  Object.keys(unparsed).forEach(function(key) {\n    if (key !== '_links' && key !== '_embedded') {\n      resource[key] = unparsed[key];\n    }\n  });\n}\n\n/*\n * Processes one of the two main hal properties, that is _links or _embedded.\n * Each sub-property is turned into a single element array if it isn't already\n * an array. processingFunction is applied to each array element.\n */\nfunction parseHalProperty(property, processingFunction, validation, path) {\n  if (property == null) {\n    return property;\n  }\n\n  // create a shallow copy of the _links/_embedded object\n  var copy = {};\n\n  // normalize each link/each embedded object and put it into our copy\n  Object.keys(property).forEach(function(key) {\n    copy[key] = arrayfy(key, property[key], processingFunction,\n        validation, path);\n  });\n  return copy;\n}\n\nfunction arrayfy(key, object, fn, validation, path) {\n  if (isArray(object)) {\n    return object.map(function(element) {\n      return fn(key, element, validation, path);\n    });\n  } else {\n    return [fn(key, object, validation, path)];\n  }\n}\n\n\nfunction parseLink(linkKey, link, validation, path) {\n  if (!isObject(link)) {\n    throw new Error('Link object is not an actual object: ' + link +\n      ' [' + typeof link + ']');\n  }\n\n  // create a shallow copy of the link object\n  var copy = shallowCopy(link);\n\n  // add missing properties mandated by spec and do generic validation\n  Object.keys(linkSpec).forEach(function(key) {\n    if (copy[key] == null) {\n      if (linkSpec[key].required) {\n        reportValidationIssue('Link misses required property ' + key + '.',\n            validation, path.push(linkKey));\n      }\n      if (linkSpec[key].defaultValue != null) {\n        copy[key] = linkSpec[key].defaultValue;\n      }\n    }\n  });\n\n  // check more inter-property relations mandated by spec\n  if (copy.deprecation) {\n    log('Warning: Link ' + pathToString(path.push(linkKey)) +\n        ' is deprecated, see ' + copy.deprecation);\n  }\n  if (copy.templated !== true && copy.templated !== false) {\n    copy.templated = false;\n  }\n\n  if (!validation) {\n    return copy;\n  }\n  if (copy.href && copy.href.indexOf('{') >= 0 && !copy.templated) {\n    reportValidationIssue('Link seems to be an URI template ' +\n        'but its \"templated\" property is not set to true.', validation,\n        path.push(linkKey));\n  }\n  return copy;\n}\n\nfunction isArray(o) {\n  return Object.prototype.toString.call(o) === '[object Array]';\n}\n\nfunction isObject(o) {\n  return typeof o === 'object';\n}\n\nfunction identity(key, object) {\n  return object;\n}\n\nfunction reportValidationIssue(message, validation, path) {\n  if (validation) {\n    validation.push({\n      path: pathToString(path),\n      message: message\n    });\n  }\n}\n\n// TODO fix this ad hoc mess - does ie support console.log as of ie9?\nfunction log(message) {\n  if (typeof console !== 'undefined' && typeof console.log === 'function') {\n    console.log(message);\n  }\n}\n\nfunction shallowCopy(source) {\n  var copy = {};\n  Object.keys(source).forEach(function(key) {\n    copy[key] = source[key];\n  });\n  return copy;\n}\n\nfunction pathToString(path) {\n  var s = '$.';\n  for (var i = 0; i < path.array().length; i++) {\n    s += path.array()[i] + '.';\n  }\n  s = s.substring(0, s.length - 1);\n  return s;\n}\n\nmodule.exports = Parser;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/halfred/lib/parser.js\n ** module id = 762\n ** module chunks = 2\n **/","'use strict';\n\nfunction Resource(links, curies, embedded, validationIssues) {\n  var self = this;\n  this._links = links || {};\n  this._initCuries(curies);\n  this._embedded = embedded || {};\n  this._validation = validationIssues || [];\n}\n\nResource.prototype._initCuries = function(curies) {\n  this._curiesMap = {};\n  if (!curies) {\n    this._curies = [];\n  } else {\n    this._curies = curies;\n    for (var i = 0; i < this._curies.length; i++) {\n      var curie = this._curies[i];\n      this._curiesMap[curie.name] = curie;\n    }\n  }\n  this._preResolveCuries();\n};\n\nResource.prototype._preResolveCuries = function() {\n  this._resolvedCuriesMap = {};\n  for (var i = 0; i < this._curies.length; i++) {\n    var curie = this._curies[i];\n    if (!curie.name) {\n      continue;\n    }\n    for (var rel in this._links) {\n      if (rel !== 'curies') {\n        this._preResolveCurie(curie, rel);\n      }\n    }\n  }\n};\n\nResource.prototype._preResolveCurie = function(curie, rel) {\n  var link = this._links[rel];\n  var prefixAndReference = rel.split(/:(.+)/);\n  var candidate = prefixAndReference[0];\n  if (curie.name === candidate) {\n    if (curie.templated && prefixAndReference.length >= 1) {\n      // TODO resolving templated CURIES should use a small uri template\n      // lib, not coded here ad hoc\n      var href = curie.href.replace(/(.*){(.*)}(.*)/, '$1' +\n          prefixAndReference[1] + '$3');\n      this._resolvedCuriesMap[href] = rel;\n    } else {\n      this._resolvedCuriesMap[curie.href] = rel;\n    }\n  }\n};\n\nResource.prototype.allLinkArrays = function() {\n  return this._links;\n};\n\nResource.prototype.linkArray = function(key) {\n  return propertyArray(this._links, key);\n};\n\nResource.prototype.link = function(key, index) {\n  return elementOfPropertyArray(this._links, key, index);\n};\n\nResource.prototype.hasCuries = function(key) {\n  return this._curies.length > 0;\n};\n\nResource.prototype.curieArray = function(key) {\n  return this._curies;\n};\n\nResource.prototype.curie = function(name) {\n  return this._curiesMap[name];\n};\n\nResource.prototype.reverseResolveCurie = function(fullUrl) {\n  return this._resolvedCuriesMap[fullUrl];\n};\n\nResource.prototype.allEmbeddedResourceArrays = function () {\n  return this._embedded;\n};\n\nResource.prototype.embeddedResourceArray = function(key) {\n  return propertyArray(this._embedded, key);\n};\n\nResource.prototype.embeddedResource = function(key, index) {\n  return elementOfPropertyArray(this._embedded, key, index);\n};\n\nResource.prototype.original = function() {\n  return this._original;\n};\n\nfunction propertyArray(object, key) {\n  return object != null ? object[key] : null;\n}\n\nfunction elementOfPropertyArray(object, key, index) {\n  index = index || 0;\n  var array = propertyArray(object, key);\n  if (array != null && array.length >= 1) {\n    return array[index];\n  }\n  return null;\n}\n\nResource.prototype.validationIssues = function() {\n  return this._validation;\n};\n\n// alias definitions\nResource.prototype.allLinks = Resource.prototype.allLinkArrays;\nResource.prototype.allEmbeddedArrays =\n    Resource.prototype.allEmbeddedResources =\n    Resource.prototype.allEmbeddedResourceArrays;\nResource.prototype.embeddedArray = Resource.prototype.embeddedResourceArray;\nResource.prototype.embedded = Resource.prototype.embeddedResource;\nResource.prototype.validation = Resource.prototype.validationIssues;\n\nmodule.exports = Resource;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/halfred/lib/resource.js\n ** module id = 442\n ** module chunks = 2\n **/","(function (global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine('uri-templates', [], factory);\n\t} else if (typeof module !== 'undefined' && module.exports){\n\t\tmodule.exports = factory();\n\t} else {\n\t\tglobal.UriTemplate = factory();\n\t}\n})(this, function () {\n\tvar uriTemplateGlobalModifiers = {\n\t\t\"+\": true,\n\t\t\"#\": true,\n\t\t\".\": true,\n\t\t\"/\": true,\n\t\t\";\": true,\n\t\t\"?\": true,\n\t\t\"&\": true\n\t};\n\tvar uriTemplateSuffices = {\n\t\t\"*\": true\n\t};\n\tvar urlEscapedChars = /[:/&?#]/;\n\n\tfunction notReallyPercentEncode(string) {\n\t\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\t\treturn \"%\" + doubleEncoded.substring(3);\n\t\t});\n\t}\n\n\tfunction isPercentEncoded(string) {\n\t\tstring = string.replace(/%../g, '');\n\t\treturn encodeURIComponent(string) === string;\n\t}\n\n\tfunction uriTemplateSubstitution(spec) {\n\t\tvar modifier = \"\";\n\t\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\t\tmodifier = spec.charAt(0);\n\t\t\tspec = spec.substring(1);\n\t\t}\n\t\tvar separator = \"\";\n\t\tvar prefix = \"\";\n\t\tvar shouldEscape = true;\n\t\tvar showVariables = false;\n\t\tvar trimEmptyString = false;\n\t\tif (modifier == '+') {\n\t\t\tshouldEscape = false;\n\t\t} else if (modifier == \".\") {\n\t\t\tprefix = \".\";\n\t\t\tseparator = \".\";\n\t\t} else if (modifier == \"/\") {\n\t\t\tprefix = \"/\";\n\t\t\tseparator = \"/\";\n\t\t} else if (modifier == '#') {\n\t\t\tprefix = \"#\";\n\t\t\tshouldEscape = false;\n\t\t} else if (modifier == ';') {\n\t\t\tprefix = \";\";\n\t\t\tseparator = \";\",\n\t\t\tshowVariables = true;\n\t\t\ttrimEmptyString = true;\n\t\t} else if (modifier == '?') {\n\t\t\tprefix = \"?\";\n\t\t\tseparator = \"&\",\n\t\t\tshowVariables = true;\n\t\t} else if (modifier == '&') {\n\t\t\tprefix = \"&\";\n\t\t\tseparator = \"&\",\n\t\t\tshowVariables = true;\n\t\t}\n\n\t\tvar varNames = [];\n\t\tvar varList = spec.split(\",\");\n\t\tvar varSpecs = [];\n\t\tvar varSpecMap = {};\n\t\tfor (var i = 0; i < varList.length; i++) {\n\t\t\tvar varName = varList[i];\n\t\t\tvar truncate = null;\n\t\t\tif (varName.indexOf(\":\") != -1) {\n\t\t\t\tvar parts = varName.split(\":\");\n\t\t\t\tvarName = parts[0];\n\t\t\t\ttruncate = parseInt(parts[1]);\n\t\t\t}\n\t\t\tvar suffices = {};\n\t\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t\t}\n\t\t\tvar varSpec = {\n\t\t\t\ttruncate: truncate,\n\t\t\t\tname: varName,\n\t\t\t\tsuffices: suffices\n\t\t\t};\n\t\t\tvarSpecs.push(varSpec);\n\t\t\tvarSpecMap[varName] = varSpec;\n\t\t\tvarNames.push(varName);\n\t\t}\n\t\tvar subFunction = function (valueFunction) {\n\t\t\tvar result = \"\";\n\t\t\tvar startIndex = 0;\n\t\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\t\tvar varSpec = varSpecs[i];\n\t\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\t\tif (value == null || (Array.isArray(value) && value.length == 0) || (typeof value == 'object' && Object.keys(value).length == 0)) {\n\t\t\t\t\tstartIndex++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (i == startIndex) {\n\t\t\t\t\tresult += prefix;\n\t\t\t\t} else {\n\t\t\t\t\tresult += (separator || \",\");\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t}\n\t\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\n\t\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof value == \"object\") {\n\t\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\n\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t}\n\t\t\t\t\tvar first = true;\n\t\t\t\t\tfor (var key in value) {\n\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\t\tif (!trimEmptyString || value != \"\") {\n\t\t\t\t\t\t\tresult += \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t\t}\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tvar guessFunction = function (stringValue, resultObj, strict) {\n\t\t\tif (prefix) {\n\t\t\t\tstringValue = stringValue.substring(prefix.length);\n\t\t\t}\n\t\t\tif (varSpecs.length == 1 && varSpecs[0].suffices['*']) {\n\t\t\t\tvar varSpec = varSpecs[0];\n\t\t\t\tvar varName = varSpec.name;\n\t\t\t\tvar arrayValue = varSpec.suffices['*'] ? stringValue.split(separator || \",\") : [stringValue];\n\t\t\t\tvar hasEquals = (shouldEscape && stringValue.indexOf('=') != -1);\t// There's otherwise no way to distinguish between \"{value*}\" for arrays and objects\n\t\t\t\tfor (var i = 1; i < arrayValue.length; i++) {\n\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\tif (hasEquals && stringValue.indexOf('=') == -1) {\n\t\t\t\t\t\t// Bit of a hack - if we're expecting \"=\" for key/value pairs, and values can't contain \"=\", then assume a value has been accidentally split\n\t\t\t\t\t\tarrayValue[i - 1] += (separator || \",\") + stringValue;\n\t\t\t\t\t\tarrayValue.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\tif (shouldEscape && stringValue.indexOf('=') != -1) {\n\t\t\t\t\t\thasEquals = true;\n\t\t\t\t\t}\n\t\t\t\t\tvar innerArrayValue = stringValue.split(\",\");\n\t\t\t\t\tif (innerArrayValue.length == 1) {\n\t\t\t\t\t\tarrayValue[i] = innerArrayValue[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarrayValue[i] = innerArrayValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (showVariables || hasEquals) {\n\t\t\t\t\tvar objectValue = resultObj[varName] || {};\n\t\t\t\t\tfor (var j = 0; j < arrayValue.length; j++) {\n\t\t\t\t\t\tvar innerValue = stringValue;\n\t\t\t\t\t\tif (showVariables && !innerValue) {\n\t\t\t\t\t\t\t// The empty string isn't a valid variable, so if our value is zero-length we have nothing\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof arrayValue[j] == \"string\") {\n\t\t\t\t\t\t\tvar stringValue = arrayValue[j];\n\t\t\t\t\t\t\tvar innerVarName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\tvar stringValue = stringValue.substring(innerVarName.length + 1);\n\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(stringValue)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstringValue = decodeURIComponent(stringValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinnerValue = stringValue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar stringValue = arrayValue[j][0];\n\t\t\t\t\t\t\tvar innerVarName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\tvar stringValue = stringValue.substring(innerVarName.length + 1);\n\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(stringValue)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstringValue = decodeURIComponent(stringValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tarrayValue[j][0] = stringValue;\n\t\t\t\t\t\t\tinnerValue = arrayValue[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerVarName)) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinnerVarName = decodeURIComponent(innerVarName);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (objectValue[innerVarName] !== undefined) {\n\t\t\t\t\t\t\tif (Array.isArray(objectValue[innerVarName])) {\n\t\t\t\t\t\t\t\tobjectValue[innerVarName].push(innerValue);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobjectValue[innerVarName] = [objectValue[innerVarName], innerValue];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobjectValue[innerVarName] = innerValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.keys(objectValue).length == 1 && objectValue[varName] !== undefined) {\n\t\t\t\t\t\tresultObj[varName] = objectValue[varName];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresultObj[varName] = objectValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\tfor (var j = 0; j < arrayValue.length; j++) {\n\t\t\t\t\t\t\tvar innerArrayValue = arrayValue[j];\n\t\t\t\t\t\t\tif (Array.isArray(innerArrayValue)) {\n\t\t\t\t\t\t\t\tfor (var k = 0; k < innerArrayValue.length; k++) {\n\t\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue[k])) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tinnerArrayValue[k] = decodeURIComponent(innerArrayValue[k]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tarrayValue[j] = decodeURIComponent(innerArrayValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (resultObj[varName] !== undefined) {\n\t\t\t\t\t\tif (Array.isArray(resultObj[varName])) {\n\t\t\t\t\t\t\tresultObj[varName] = resultObj[varName].concat(arrayValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = [resultObj[varName]].concat(arrayValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (arrayValue.length == 1 && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\tresultObj[varName] = arrayValue[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = arrayValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar arrayValue = (varSpecs.length == 1) ? [stringValue] : stringValue.split(separator || \",\");\n\t\t\t\tvar specIndexMap = {};\n\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\t// Try from beginning\n\t\t\t\t\tvar firstStarred = 0;\n\t\t\t\t\tfor (; firstStarred < varSpecs.length - 1 && firstStarred < i; firstStarred++) {\n\t\t\t\t\t\tif (varSpecs[firstStarred].suffices['*']) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (firstStarred == i) {\n\t\t\t\t\t\t// The first [i] of them have no \"*\" suffix\n\t\t\t\t\t\tspecIndexMap[i] = i;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Try from the end\n\t\t\t\t\t\tfor (var lastStarred = varSpecs.length - 1; lastStarred > 0 && (varSpecs.length - lastStarred) < (arrayValue.length - i); lastStarred--) {\n\t\t\t\t\t\t\tif (varSpecs[lastStarred].suffices['*']) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((varSpecs.length - lastStarred) == (arrayValue.length - i)) {\n\t\t\t\t\t\t\t// The last [length - i] of them have no \"*\" suffix\n\t\t\t\t\t\t\tspecIndexMap[i] = lastStarred;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Just give up and use the first one\n\t\t\t\t\tspecIndexMap[i] = firstStarred;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\tif (!stringValue && showVariables) {\n\t\t\t\t\t\t// The empty string isn't a valid variable, so if our value is zero-length we have nothing\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar innerArrayValue = stringValue.split(\",\");\n\t\t\t\t\tvar hasEquals = false;\n\n\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\tvar stringValue = innerArrayValue[0]; // using innerArrayValue\n\t\t\t\t\t\tvar varName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\tvar stringValue = stringValue.substring(varName.length + 1);\n\t\t\t\t\t\tinnerArrayValue[0] = stringValue;\n\t\t\t\t\t\tvar varSpec = varSpecMap[varName] || varSpecs[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar varSpec = varSpecs[specIndexMap[i]];\n\t\t\t\t\t\tvar varName = varSpec.name;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var j = 0; j < innerArrayValue.length; j++) {\n\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue[j])) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinnerArrayValue[j] = decodeURIComponent(innerArrayValue[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((showVariables || varSpec.suffices['*'])&& resultObj[varName] !== undefined) {\n\t\t\t\t\t\tif (Array.isArray(resultObj[varName])) {\n\t\t\t\t\t\t\tresultObj[varName] = resultObj[varName].concat(innerArrayValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = [resultObj[varName]].concat(innerArrayValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (innerArrayValue.length == 1 && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\tresultObj[varName] = innerArrayValue[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = innerArrayValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 1;\n\t\t};\n\t\treturn {\n\t\t\tvarNames: varNames,\n\t\t\tprefix: prefix,\n\t\t\tsubstitution: subFunction,\n\t\t\tunSubstitution: guessFunction\n\t\t};\n\t}\n\n\tfunction UriTemplate(template) {\n\t\tif (!(this instanceof UriTemplate)) {\n\t\t\treturn new UriTemplate(template);\n\t\t}\n\t\tvar parts = template.split(\"{\");\n\t\tvar textParts = [parts.shift()];\n\t\tvar prefixes = [];\n\t\tvar substitutions = [];\n\t\tvar unSubstitutions = [];\n\t\tvar varNames = [];\n\t\twhile (parts.length > 0) {\n\t\t\tvar part = parts.shift();\n\t\t\tvar spec = part.split(\"}\")[0];\n\t\t\tvar remainder = part.substring(spec.length + 1);\n\t\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\t\tsubstitutions.push(funcs.substitution);\n\t\t\tunSubstitutions.push(funcs.unSubstitution);\n\t\t\tprefixes.push(funcs.prefix);\n\t\t\ttextParts.push(remainder);\n\t\t\tvarNames = varNames.concat(funcs.varNames);\n\t\t}\n\t\tthis.fill = function (valueFunction) {\n\t\t\tif (valueFunction && typeof valueFunction !== 'function') {\n\t\t\t\tvar value = valueFunction;\n\t\t\t\tvalueFunction = function (varName) {\n\t\t\t\t\treturn value[varName];\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar result = textParts[0];\n\t\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\t\tvar substitution = substitutions[i];\n\t\t\t\tresult += substitution(valueFunction);\n\t\t\t\tresult += textParts[i + 1];\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tthis.fromUri = function (substituted, options) {\n\t\t\toptions = options || {};\n\t\t\tvar result = {};\n\t\t\tfor (var i = 0; i < textParts.length; i++) {\n\t\t\t\tvar part = textParts[i];\n\t\t\t\tif (substituted.substring(0, part.length) !== part) {\n\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t}\n\t\t\t\tsubstituted = substituted.substring(part.length);\n\t\t\t\tif (i >= textParts.length - 1) {\n\t\t\t\t\t// We've run out of input - is there any template left?\n\t\t\t\t\tif (substituted == \"\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar prefix = prefixes[i];\n\t\t\t\tif (prefix && substituted.substring(0, prefix.length) !== prefix) {\n\t\t\t\t\t// All values are optional - if we have a prefix and it doesn't match, move along\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Find the next part to un-substitute\n\t\t\t\tvar nextPart = textParts[i + 1];\n\t\t\t\tvar offset = i;\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (offset == textParts.length - 2) {\n\t\t\t\t\t\tvar endPart = substituted.substring(substituted.length - nextPart.length);\n\t\t\t\t\t\tif (endPart !== nextPart) {\n\t\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar stringValue = substituted.substring(0, substituted.length - nextPart.length);\n\t\t\t\t\t\tsubstituted = endPart;\n\t\t\t\t\t} else if (nextPart) {\n\t\t\t\t\t\tvar nextPartPos = substituted.indexOf(nextPart);\n\t\t\t\t\t\tvar stringValue = substituted.substring(0, nextPartPos);\n\t\t\t\t\t\tsubstituted = substituted.substring(nextPartPos);\n\t\t\t\t\t} else if (prefixes[offset + 1]) {\n\t\t\t\t\t\tvar nextPartPos = substituted.indexOf(prefixes[offset + 1]);\n\t\t\t\t\t\tif (nextPartPos === -1) nextPartPos = substituted.length;\n\t\t\t\t\t\tvar stringValue = substituted.substring(0, nextPartPos);\n\t\t\t\t\t\tsubstituted = substituted.substring(nextPartPos);\n\t\t\t\t\t} else if (textParts.length > offset + 2) {\n\t\t\t\t\t\t// If the separator between this variable and the next is blank (with no prefix), continue onwards\n\t\t\t\t\t\toffset++;\n\t\t\t\t\t\tnextPart = textParts[offset + 1];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar stringValue = substituted;\n\t\t\t\t\t\tsubstituted = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (!unSubstitutions[i](stringValue, result, options.strict)) {\n\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tthis.varNames = varNames;\n\t\tthis.template = template;\n\t}\n\tUriTemplate.prototype = {\n\t\ttoString: function () {\n\t\t\treturn this.template;\n\t\t},\n\t\tfillFromObject: function (obj) {\n\t\t\treturn this.fill(obj);\n\t\t},\n\t\ttest: function (uri, options) {\n\t\t\treturn !!this.fromUri(uri, options)\n\t\t}\n\t};\n\n\treturn UriTemplate;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/uri-templates/uri-templates.js\n ** module id = 764\n ** module chunks = 2\n **/"],"sourceRoot":""}